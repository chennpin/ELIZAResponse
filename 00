Template.body.onRendered(function() {

});

Template.formSection.events({
  "click #submitMsg": function(event) {
    event.preventDefault();
    let myMsgObj = document.getElementById("myMsg");
    let myMsg = myMsgObj.value;
    var helloAns = ["not good", "not bad", "I'm good.", "I feel great today LOL.", "I'm good because I just lost 1KG.", "I feel good, but I'm hungry now.", "I feel not good because I just cracked my smart phone screen.", "I'm okay. How about you?", "Couldn't be better!", "So so"];//符合How are you的回答
  var otherAns = ["I'm hungry now", "Excuse me?", "Get away", "Shout up", "Give me money", "Do you wanna build a snowman~~~~", "Put your gun down now !", "You're fired！", "Stay hungry. Stay foolish.", "I WANT YOU"];//不符合的回答
  var randomResponse = function() {
  let randomIndex = Math.random()*10;
  randomIndex = Math.floor(randomIndex);
  if(myMsg === "How are you?"){
    let ELIZAHelloAns = helloAns[randomIndex];
    return ELIZAHelloAns;
  }
  else{
    let ELIZAOtherAns = otherAns[randomIndex];
    return ELIZAOtherAns;
  }
};
    let conBoxObj = document.getElementById("conversationBox");
    let oldConversation = conBoxObj.value;
    let newConversation = oldConversation+"\n"+"You: "+myMsg;
    let ELIZAResponse = randomResponse();
    newConversation = newConversation+"\n"+"ELIZA: "+ELIZAResponse;
    conBoxObj.value = newConversation;
    myMsgObj.value = "";
  },
  "click #resetMsg": function() {
    let conBoxObj = document.getElementById("conversationBox");
    conBoxObj.value = "ELIZA: How are you doing?";
  }
});
